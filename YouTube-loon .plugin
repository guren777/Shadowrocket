#!name= ğ˜ğ¨ğ®ğ“ğ®ğ›ğğŸš«/â¿»/â–¶ï¸É¢Ê€ç‰ˆ
#!desc=ç§»é™¤YouTubeè§†é¢‘ã€ç€‘å¸ƒæµã€æœç´¢å’ŒShortsä¸­çš„å¹¿å‘Šï¼Œç§»é™¤åº•æ çš„ShortsæŒ‰é’®å’Œä¸Šä¼ æŒ‰é’®ï¼Œå¢åŠ ç”»ä¸­ç”»åŠå­—å¹•ç¿»è¯‘åŠŸèƒ½ã€‚ç§»é™¤YouTube Musicåº•æ çš„ä¸Šä¼ ã€é€‰æ®µå’Œå‡çº§æŒ‰é’®ï¼Œå¢åŠ æ­Œè¯ç¿»è¯‘ï¼Œæ”¯æŒäºŒè€…çš„åå°æ’­æ”¾ã€‚æ­¤æ’ä»¶éœ€è¦å¯ç”¨MitM over HTTP/2å’ŒQUICå›é€€ä¿æŠ¤ã€‚æ”¯æŒPremiumè®¢é˜…ç”¨æˆ·ä½¿ç”¨ï¼Œä¸æ”¯æŒtvOSè®¾å¤‡ã€‚
#Appé“¾æ¥=https://apps.apple.com/app/id544007664
#!author=Maasea[https://github.com/Maasea],VirgilClyne[https://github.com/VirgilClyne],Choler[https://github.com/Choler],DivineEngine[https://github.com/DivineEngine],app2smile[https://github.com/Moli-X/Tool/blob/X/Loon/Readme.md]
#!tag=å»å¹¿å‘Š
#!system=iOS,iPadOS,macOS
#!system_version=15
#!loon_version=3.2.4(787)
#!homepage=https://raw.githubusercontent.com/guren777/Shadowrocket/refs/heads/main/YouTube-loon%20.plugin
#!icon=https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png
#!date=2025-03-30 17:34:38

[Argument]
blockUpload=switch,false,true,tag=éšè—ä¸Šä¼ æŒ‰é’®,desc=ç”¨äºéšè—YouTubeåº•æ çš„ä¸Šä¼ æŒ‰é’®
blockShorts=switch,false,true,tag=éšè—ShortsæŒ‰é’®,desc=ç”¨äºéšè—YouTubeåº•æ çš„ShortsæŒ‰é’®
blockImmersive=switch,false,true,tag=éšè—é€‰æ®µæŒ‰é’®,desc=ç”¨äºéšè—YouTube Musicåº•æ çš„é€‰æ®µæŒ‰é’®
captionLang=select,"zh-Hans","zh-Hant","ja","ko","en","off",tag=å­—å¹•ç¿»è¯‘è¯­è¨€,desc=éœ€è¦æŠŠYouTubeå­—å¹•ç¿»è¯‘ç¿»è¯‘ä¸ºä½•ç§è¯­è¨€
lyricLang=select,"zh-Hans","zh-Hant","ja","ko","en","off",tag=æ­Œè¯ç¿»è¯‘è¯­è¨€,desc=éœ€è¦æŠŠYouTube Musicå­—å¹•ç¿»è¯‘ç¿»è¯‘ä¸ºä½•ç§è¯­è¨€
debug=switch,false,true,tag=å¯ç”¨è°ƒè¯•æ¨¡å¼,desc=æ­¤æ’ä»¶çš„è°ƒè¯•æ¨¡å¼

[Rule]
AND,((DOMAIN-SUFFIX,googlevideo.com),(PROTOCOL,QUIC)),REJECT
AND,((DOMAIN-SUFFIX,youtubei.googleapis.com),(PROTOCOL,QUIC)),REJECT

[Rewrite]
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad mock-response-body data-type=text status-code=502

[Script]
http-response ^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch) script-path=https://raw.githubusercontent.com/guren777/Shadowrocket/refs/heads/main/youtube.response.js,requires-body=true,binary-body-mode=true,argument=[{blockUpload},{blockShorts},{blockImmersive},{captionLang},{lyricLang},{debug}],tag=YouTubeå»å¹¿å‘Š

[MitM]
hostname=*.googlevideo.com,youtubei.googleapis.com