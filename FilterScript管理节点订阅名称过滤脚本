$server.reserved="1,40-60,30-50"



let customCharStart = "â¥"; // æ·»åŠ å‰ç¼€ï¼ˆç•™ç©ºå³ä¸æ·»åŠ ï¼‰
let customCharEnd = "ğŸ”«";     // æ·»åŠ åç¼€ï¼ˆç•™ç©ºå³ä¸æ·»åŠ ï¼‰

// é…ç½®ï¼šè¾“å‡ºè¯­è¨€é€‰é¡¹ï¼ŒCNä¸ºä¸­æ–‡åç§°ï¼ŒENä¸ºè‹±æ–‡åç§°ï¼ˆé»˜è®¤è¾“å‡ºè‹±æ–‡ï¼‰
const outputLanguage = "CN"; // é€‰æ‹© "CN" æˆ– "EN"

// å›½å®¶å’Œåœ°åŒºä¸æ ‡è¯†ç¬¦çš„æ˜ å°„ï¼ˆæ”¯æŒä¸­è‹±æ–‡åŒ¹é…ï¼‰

const keywordsToNames = {
    "ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|æ´›æ‰ç£¯|è¥¿é›…å›¾|çº½çº¦|èŠåŠ å“¥|Atlanta|States|American|Los Angeles|Seattle|New York|Chicago": outputLanguage === "EN" ? "ğŸ‡ºğŸ‡¸US" : "ğŸ‡ºğŸ‡¸ç¾å›½",
    "æ¸¯|é¦™æ¸¯|HK|Hong Kong": outputLanguage === "EN" ? "ğŸ‡­ğŸ‡°HK" : "ğŸ‡­ğŸ‡°é¦™æ¸¯",
    "æ–°åŠ å¡|ç‹®åŸ|SG|Singapore": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡¬SG" : "ğŸ‡¸ğŸ‡¬æ–°åŠ å¡",
    "å°|å°æ¹¾|å°åŒ—|é«˜é›„|TW|Taiwan|Taipei|Kaohsiung": outputLanguage === "EN" ? "ğŸŒ€TW" : "ğŸŒ€å°æ¹¾",
    "æ—¥|ä¸œäº¬|å¤§é˜ª|åå¤å±‹|JP|Tokyo|Japan|Osaka|Nagoya": outputLanguage === "EN" ? "ğŸ‡¯ğŸ‡µJP" : "ğŸ‡¯ğŸ‡µæ—¥æœ¬",
    "éŸ©å›½|é¦–å°”|é‡œå±±|KR|Korea|Seoul|Busan": outputLanguage === "EN" ? "ğŸ‡°ğŸ‡·KR" : "ğŸ‡°ğŸ‡·éŸ©å›½",
    "åœŸè€³å…¶|ä¼Šæ–¯å¦å¸ƒå°”|å®‰å¡æ‹‰|TR|Turkey|Istanbul|Ankara": outputLanguage === "EN" ? "ğŸ‡¹ğŸ‡·TR" : "ğŸ‡¹ğŸ‡·åœŸè€³å…¶",
    "çˆ±å°”å…°|éƒ½æŸæ—|IE|Ireland|Dublin": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡ªIRL" : "ğŸ‡®ğŸ‡ªçˆ±å°”å…°",
    "æ¾³|æ‚‰å°¼|å¢¨å°”æœ¬|å¸ƒé‡Œæ–¯ç­|AU|Australia|Sydney|Melbourne|Brisbane": outputLanguage === "EN" ? "ğŸ‡¦ğŸ‡ºAU" : "ğŸ‡¦ğŸ‡ºæ¾³å¤§åˆ©äºš",
    "æ³•å›½|å·´é»|é‡Œæ˜‚|é©¬èµ›|FR|France|Paris|Lyon|Marseille": outputLanguage === "EN" ? "ğŸ‡«ğŸ‡·FRA" : "ğŸ‡«ğŸ‡·æ³•å›½",
    "ç‘å…¸|æ–¯å¾·å“¥å°”æ‘©|å“¥å¾·å ¡|SE|Sweden|Stockholm|Gothenburg": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡ªSE" : "ğŸ‡¸ğŸ‡ªç‘å…¸",
    "å¾·å›½|æ³•å…°å…‹ç¦|æŸæ—|æ…•å°¼é»‘|DE|Germany|Frankfurt|Berlin|Munich": outputLanguage === "EN" ? "ğŸ‡©ğŸ‡ªDE" : "ğŸ‡©ğŸ‡ªå¾·å›½",
    "è‹±å›½|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|ä¼¯æ˜ç¿°|GB|UK|United Kingdom|London|Manchester|Birmingham": outputLanguage === "EN" ? "ğŸ‡¬ğŸ‡§GB" : "ğŸ‡¬ğŸ‡§è‹±å›½",
    "å°åº¦|å­Ÿä¹°|å¾·é‡Œ|ç­åŠ ç½—å°”|IN|India|Mumbai|Delhi|Bangalore": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡³IN" : "ğŸ‡®ğŸ‡³å°åº¦",
    "åŠ æ‹¿å¤§|å¤šä¼¦å¤š|æ¸©å“¥å|è’™ç‰¹åˆ©å°”|CA|Canada|Toronto|Vancouver|Montreal": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡¦CA" : "ğŸ‡¨ğŸ‡¦åŠ æ‹¿å¤§",
    "è¥¿ç­ç‰™|é©¬å¾·é‡Œ|å·´å¡ç½—é‚£|ES|Spain|Madrid|Barcelona": outputLanguage === "EN" ? "ğŸ‡ªğŸ‡¸ES" : "ğŸ‡ªğŸ‡¸è¥¿ç­ç‰™",
    "æ„å¤§åˆ©|ç½—é©¬|ç±³å…°|é‚£ä¸å‹’æ–¯|IT|Italy|Rome|Milan|Naples": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡¹IT" : "ğŸ‡®ğŸ‡¹æ„å¤§åˆ©",
    "è·å…°|é˜¿å§†æ–¯ç‰¹ä¸¹|é¹¿ç‰¹ä¸¹|NL|Netherlands|Amsterdam|Rotterdam": outputLanguage === "EN" ? "ğŸ‡³ğŸ‡±NL" : "ğŸ‡³ğŸ‡±è·å…°",
    "ç‘å£«|è‹é»ä¸–|æ—¥å†…ç“¦|CH|Switzerland|Zurich|Geneva": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡­CH" : "ğŸ‡¨ğŸ‡­ç‘å£«",
    "ä¿„ç½—æ–¯|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|RU|Russia|Moscow|Saint Petersburg": outputLanguage === "EN" ? "ğŸ‡·ğŸ‡ºRU" : "ğŸ‡·ğŸ‡ºä¿„ç½—æ–¯",
    "å·´è¥¿|åœ£ä¿ç½—|é‡Œçº¦çƒ­å†…å¢|BR|Brazil|SÃ£o Paulo|Rio de Janeiro": outputLanguage === "EN" ? "ğŸ‡§ğŸ‡·BR" : "ğŸ‡§ğŸ‡·å·´è¥¿",
    "å—é|çº¦ç¿°å†…æ–¯å ¡|å¼€æ™®æ•¦|ZA|South Africa|Johannesburg|Cape Town": outputLanguage === "EN" ? "ğŸ‡¿ğŸ‡¦ZA" : "ğŸ‡¿ğŸ‡¦å—é",
    "å¢¨è¥¿å“¥|å¢¨è¥¿å“¥åŸ|ç“œè¾¾æ‹‰å“ˆæ‹‰|MX|Mexico|Mexico City|Guadalajara": outputLanguage === "EN" ? "ğŸ‡²ğŸ‡½MX" : "ğŸ‡²ğŸ‡½å¢¨è¥¿å“¥",
    "é˜¿æ ¹å»·|å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯|AR|Argentina|Buenos Aires": outputLanguage === "EN" ? "ğŸ‡¦ğŸ‡·AR" : "ğŸ‡¦ğŸ‡·é˜¿æ ¹å»·",
    "æ³¢å…°|åæ²™|å…‹æ‹‰ç§‘å¤«|PL|Poland|Warsaw|Krakow": outputLanguage === "EN" ? "ğŸ‡µğŸ‡±PL" : "ğŸ‡µğŸ‡±æ³¢å…°",
    "æ³°å›½|æ›¼è°·|æ¸…è¿ˆ|TH|Thailand|Bangkok|Chiang Mai": outputLanguage === "EN" ? "ğŸ‡¹ğŸ‡­TH" : "ğŸ‡¹ğŸ‡­æ³°å›½",
    "é©¬æ¥è¥¿äºš|å‰éš†å¡|æ§ŸåŸ|MY|Malaysia|Kuala Lumpur|Penang": outputLanguage === "EN" ? "ğŸ‡²ğŸ‡¾MY" : "ğŸ‡²ğŸ‡¾é©¬æ¥è¥¿äºš",
    "è¶Šå—|æ²³å†…|èƒ¡å¿—æ˜|VN|Vietnam|Hanoi|Ho Chi Minh": outputLanguage === "EN" ? "ğŸ‡»ğŸ‡³VN" : "ğŸ‡»ğŸ‡³è¶Šå—",
    "è²å¾‹å®¾|é©¬å°¼æ‹‰|PH|Philippines|Manila": outputLanguage === "EN" ? "ğŸ‡µğŸ‡­PH" : "ğŸ‡µğŸ‡­è²å¾‹å®¾",
    "åŸƒåŠ|å¼€ç½—|EG|Egypt|Cairo": outputLanguage === "EN" ? "ğŸ‡ªğŸ‡¬EG" : "ğŸ‡ªğŸ‡¬åŸƒåŠ",
    "æ²™ç‰¹|åˆ©é›…å¾—|å‰è¾¾|SA|Saudi Arabia|Riyadh|Jeddah": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡¦SA" : "ğŸ‡¸ğŸ‡¦æ²™ç‰¹é˜¿æ‹‰ä¼¯",
    "é˜¿è”é…‹|è¿ªæ‹œ|é˜¿å¸ƒæ‰æ¯”|AE|UAE|Dubai|Abu Dhabi": outputLanguage === "EN" ? "ğŸ‡¦ğŸ‡ªAE" : "ğŸ‡¦ğŸ‡ªé˜¿è”é…‹",
    "æŒªå¨|å¥¥æ–¯é™†|NO|Norway|Oslo": outputLanguage === "EN" ? "ğŸ‡³ğŸ‡´NO" : "ğŸ‡³ğŸ‡´æŒªå¨",
    "èŠ¬å…°|èµ«å°”è¾›åŸº|FI|Finland|Helsinki": outputLanguage === "EN" ? "ğŸ‡«ğŸ‡®FI" : "ğŸ‡«ğŸ‡®èŠ¬å…°",
    "å¥¥åœ°åˆ©|ç»´ä¹Ÿçº³|AT|Austria|Vienna": outputLanguage === "EN" ? "ğŸ‡¦ğŸ‡¹AT" : "ğŸ‡¦ğŸ‡¹å¥¥åœ°åˆ©",
    "å¸Œè…Š|é›…å…¸|GR|Greece|Athens": outputLanguage === "EN" ? "ğŸ‡¬ğŸ‡·GR" : "ğŸ‡¬ğŸ‡·å¸Œè…Š",
    "åŒˆç‰™åˆ©|å¸ƒè¾¾ä½©æ–¯|HU|Hungary|Budapest": outputLanguage === "EN" ? "ğŸ‡­ğŸ‡ºHU" : "ğŸ‡­ğŸ‡ºåŒˆç‰™åˆ©",
    "æ·å…‹|å¸ƒæ‹‰æ ¼|CZ|Czech|Prague": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡¿CZ" : "ğŸ‡¨ğŸ‡¿æ·å…‹",
    "æ–°è¥¿å…°|å¥¥å…‹å…°|NZ|New Zealand|Auckland": outputLanguage === "EN" ? "ğŸ‡³ğŸ‡¿NZ" : "ğŸ‡³ğŸ‡¿æ–°è¥¿å…°",
    "å°¼æ³Šå°”|åŠ å¾·æ»¡éƒ½|NP|Nepal|Kathmandu": outputLanguage === "EN" ? "ğŸ‡³ğŸ‡µNP" : "ğŸ‡³ğŸ‡µå°¼æ³Šå°”",
    "è‘¡è„ç‰™|é‡Œæ–¯æœ¬|PT|Portugal|Lisbon": outputLanguage === "EN" ? "ğŸ‡µğŸ‡¹PT" : "ğŸ‡µğŸ‡¹è‘¡è„ç‰™",
    "å·´åŸºæ–¯å¦|ä¼Šæ–¯å…°å ¡|PK|Pakistan|Islamabad": outputLanguage === "EN" ? "ğŸ‡µğŸ‡°PK" : "ğŸ‡µğŸ‡°å·´åŸºæ–¯å¦",
    "ä¼Šæœ—|å¾·é»‘å…°|IR|Iran|Tehran": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡·IR" : "ğŸ‡®ğŸ‡·ä¼Šæœ—",
    "ä¼Šæ‹‰å…‹|å·´æ ¼è¾¾|IQ|Iraq|Baghdad": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡¶IQ" : "ğŸ‡®ğŸ‡¶ä¼Šæ‹‰å…‹",
    "é˜¿å°”åŠåˆ©äºš|é˜¿å°”åŠå°”|DZ|Algeria|Algiers": outputLanguage === "EN" ? "ğŸ‡©ğŸ‡¿DZ" : "ğŸ‡©ğŸ‡¿é˜¿å°”åŠåˆ©äºš",
    "æ‘©æ´›å“¥|æ‹‰å·´ç‰¹|MA|Morocco|Rabat": outputLanguage === "EN" ? "ğŸ‡²ğŸ‡¦MA" : "ğŸ‡²ğŸ‡¦æ‘©æ´›å“¥",
    "å°¼æ—¥åˆ©äºš|æ‹‰å„æ–¯|NG|Nigeria|Lagos": outputLanguage === "EN" ? "ğŸ‡³ğŸ‡¬NG" : "ğŸ‡³ğŸ‡¬å°¼æ—¥åˆ©äºš",
    "æ™ºåˆ©|åœ£åœ°äºšå“¥|CL|Chile|Santiago": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡±CL" : "ğŸ‡¨ğŸ‡±æ™ºåˆ©",
    "ç§˜é²|åˆ©é©¬|PE|Peru|Lima": outputLanguage === "EN" ? "ğŸ‡µğŸ‡ªPE" : "ğŸ‡µğŸ‡ªç§˜é²",
    "å“¥ä¼¦æ¯”äºš|æ³¢å“¥å¤§|CO|Colombia|BogotÃ¡": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡´CO" : "ğŸ‡¨ğŸ‡´å“¥ä¼¦æ¯”äºš",
    "ç½—é©¬å°¼äºš|Romania|RO|Bucharest|Cluj-Napoca|TimiÈ™oara": outputLanguage === "EN" ? "ğŸ‡·ğŸ‡´RO" : "ğŸ‡·ğŸ‡´ç½—é©¬å°¼äºš",
    "å¡å°”ç»´äºš|Serbia|RS|Belgrade|Novi Sad|NiÅ¡": outputLanguage === "EN" ? "ğŸ‡·ğŸ‡¸RS" : "ğŸ‡·ğŸ‡¸å¡å°”ç»´äºš",
    "ç«‹é™¶å®›|Lithuania|LT|Vilnius|Kaunas|KlaipÄ—da": outputLanguage === "EN" ? "ğŸ‡±ğŸ‡¹LT" : "ğŸ‡±ğŸ‡¹ç«‹é™¶å®›",
    "å±åœ°é©¬æ‹‰|Guatemala|GT|Guatemala City|Antigua Guatemala|Quetzaltenango": outputLanguage === "EN" ? "ğŸ‡¬ğŸ‡¹GT" : "ğŸ‡¬ğŸ‡¹å±åœ°é©¬æ‹‰",
    "ä¸¹éº¦|Denmark|DK|Copenhagen|Aarhus|Odense": outputLanguage === "EN" ? "ğŸ‡©ğŸ‡°DK" : "ğŸ‡©ğŸ‡°ä¸¹éº¦",
    "ä¹Œå…‹å…°|Ukraine|UA|Kyiv|Lviv|Odesa": outputLanguage === "EN" ? "ğŸ‡ºğŸ‡¦UA" : "ğŸ‡ºğŸ‡¦ä¹Œå…‹å…°",
    "ä»¥è‰²åˆ—|Israel|IL|Jerusalem|Tel Aviv|Haifa": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡±IL" : "ğŸ‡®ğŸ‡±ä»¥è‰²åˆ—",
    "å„ç“œå¤šå°”|Ecuador|EC|Quito|Guayaquil|Cuenca": outputLanguage === "EN" ? "ğŸ‡ªğŸ‡¨EC" : "ğŸ‡ªğŸ‡¨å„ç“œå¤šå°”",
    "å“¥æ–¯è¾¾é»åŠ |Costa Rica|CR|San JosÃ©|Alajuela|Cartago": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡·CR" : "ğŸ‡¨ğŸ‡·å“¥æ–¯è¾¾é»åŠ ",
    "å¡æµ¦è·¯æ–¯|Cyprus|CY|Nicosia|Limassol|Larnaca": outputLanguage === "EN" ? "ğŸ‡¨ğŸ‡¾CY" : "ğŸ‡¨ğŸ‡¾å¡æµ¦è·¯æ–¯",
    "æ¯”åˆ©æ—¶|Belgium|BE|Brussels|Antwerp|Ghent": outputLanguage === "EN" ? "ğŸ‡§ğŸ‡ªBE" : "ğŸ‡§ğŸ‡ªæ¯”åˆ©æ—¶",
    "ç»åˆ©ç»´äºš|Bolivia|BO|Sucre|La Paz|Santa Cruz": outputLanguage === "EN" ? "ğŸ‡§ğŸ‡´BO" : "ğŸ‡§ğŸ‡´ç»åˆ©ç»´äºš", "å°å°¼|å°åº¦å°¼è¥¿äºš|Indonesia|é›…åŠ è¾¾|å·´å˜å²›|Jakarta|Bali": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡©ID" : "ğŸ‡®ğŸ‡©å°åº¦å°¼è¥¿äºš",
    "å¡å¡”å°”|å¤šå“ˆ|Qatar|Doha": outputLanguage === "EN" ? "ğŸ‡¶ğŸ‡¦QA" : "ğŸ‡¶ğŸ‡¦å¡å¡”å°”",
    "ç§‘å¨ç‰¹|Kuwait|ç§‘å¨ç‰¹åŸ|Kuwait City": outputLanguage === "EN" ? "ğŸ‡°ğŸ‡¼KW" : "ğŸ‡°ğŸ‡¼ç§‘å¨ç‰¹",
    "ä¿åŠ åˆ©äºš|ç´¢éäºš|Sofia|Bulgaria": outputLanguage === "EN" ? "ğŸ‡§ğŸ‡¬BG" : "ğŸ‡§ğŸ‡¬ä¿åŠ åˆ©äºš",
    "æ–¯æ´›ä¼å…‹|å¸ƒæ‹‰è¿ªæ–¯æ‹‰å‘|Bratislava|Slovakia": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡°SK" : "ğŸ‡¸ğŸ‡°æ–¯æ´›ä¼å…‹",
    "å…‹ç½—åœ°äºš|è¨æ ¼å‹’å¸ƒ|Zagreb|Croatia": outputLanguage === "EN" ? "ğŸ‡­ğŸ‡·HR" : "ğŸ‡­ğŸ‡·å…‹ç½—åœ°äºš",
    "æ–¯æ´›æ–‡å°¼äºš|å¢å¸ƒå°”é›…é‚£|Ljubljana|Slovenia": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡®SI" : "ğŸ‡¸ğŸ‡®æ–¯æ´›æ–‡å°¼äºš",
    "çˆ±æ²™å°¼äºš|å¡”æ—|Tallinn|Estonia": outputLanguage === "EN" ? "ğŸ‡ªğŸ‡ªEE" : "ğŸ‡ªğŸ‡ªçˆ±æ²™å°¼äºš",
    "æ‹‰è„±ç»´äºš|é‡ŒåŠ |Riga|Latvia": outputLanguage === "EN" ? "ğŸ‡±ğŸ‡»LV" : "ğŸ‡±ğŸ‡»æ‹‰è„±ç»´äºš",
    "å†°å²›|é›·å…‹é›…æœªå…‹|Reykjavik|Iceland": outputLanguage === "EN" ? "ğŸ‡®ğŸ‡¸IS" : "ğŸ‡®ğŸ‡¸å†°å²›",
    "ä¹Œå…¹åˆ«å…‹æ–¯å¦|å¡”ä»€å¹²|Tashkent|Uzbekistan": outputLanguage === "EN" ? "ğŸ‡ºğŸ‡¿UZ" : "ğŸ‡ºğŸ‡¿ä¹Œå…¹åˆ«å…‹æ–¯å¦",
    "å“ˆè¨å…‹æ–¯å¦|åŠªå°”è‹ä¸¹|é˜¿æ‹‰æœ¨å›¾|Kazakhstan|Nur-Sultan|Almaty": outputLanguage === "EN" ? "ğŸ‡°ğŸ‡¿KZ" : "ğŸ‡°ğŸ‡¿å“ˆè¨å…‹æ–¯å¦",
    "æ‘©å°”å¤šç“¦|åŸºå¸Œè®·ä¹Œ|Chisinau|Moldova": outputLanguage === "EN" ? "ğŸ‡²ğŸ‡©MD" : "ğŸ‡²ğŸ‡©æ‘©å°”å¤šç“¦",
    "æ ¼é²å‰äºš|ç¬¬æ¯”åˆ©æ–¯|Tbilisi|Georgia": outputLanguage === "EN" ? "ğŸ‡¬ğŸ‡ªGE" : "ğŸ‡¬ğŸ‡ªæ ¼é²å‰äºš",
    "é»‘å±±|æ³¢å¾·æˆˆé‡Œå¯Ÿ|Podgorica|Montenegro": outputLanguage === "EN" ? "ğŸ‡²ğŸ‡ªME" : "ğŸ‡²ğŸ‡ªé»‘å±±","å¡|å¡èˆŒå°”|SC|Seychelles": outputLanguage === "EN" ? "ğŸ‡¸ğŸ‡¨SC" : "ğŸ‡¸ğŸ‡¨å¡èˆŒå°”",
    "é˜¿å°”å·´å°¼äºš|åœ°æ‹‰é‚£|Tirana|Albania": outputLanguage === "EN" ? "ğŸ‡¦ğŸ‡±AL" : "ğŸ‡¦ğŸ‡±é˜¿å°”å·´å°¼äºš"

};

// è¿‡æ»¤å…³é”®è¯ï¼Œé˜²æ­¢æ— æ•ˆæˆ–å¹¿å‘ŠèŠ‚ç‚¹
const filterKeywords = [
  "å¹¿å‘Š", "è¿‡æœŸ", "æ— æ•ˆ", "æµ‹è¯•", "å¤‡ç”¨", "å®˜ç½‘", "è´¦å·", "æœ‰æ•ˆæœŸ", "ç¾¤",
  "åˆ°æœŸ", "åˆ·æ–°", "å‰©ä½™", "ç”µæŠ¥", "ä¼šå‘˜", "è§£é”", "æµé‡", "è¶…æ—¶",
  "è®¢é˜…", "ä½£é‡‘", "å…ç¿»", "èŠ‚ç‚¹", "ä¸‹è½½", "æ›´æ–°", "ç‚¹å¤–", "é‡ç½®",
  "å…æµ", "Days", "Date", "Expire", "Premium", "å»ºè®®", "å…è´¹",
  "å¥—é¤", "åˆ°æœŸ", "æœ‰æ•ˆ", "å‰©ä½™", "ç‰ˆæœ¬", "å·²ç”¨", "è¿‡æœŸ", "å¤±è”",
  "æµ‹è¯•", "å®˜æ–¹", "ç½‘å€", "å¤‡ç”¨", "ç¾¤", "TEST", "å®¢æœ", "ç½‘ç«™",
  "è·å–", "è®¢é˜…", "æµé‡", "æœºåœº", "ä¸‹æ¬¡", "å®˜å€", "è”ç³»", "é‚®ç®±",
  "å·¥å•", "å­¦æœ¯", "USE", "USED", "TOTAL", "EXPIRE", "EMAIL", "ä¸­å›½", "CN"
];

// å®šä¹‰éœ€è¦ä¿ç•™çš„å…³é”®è¯åŠå…¶æ›¿æ¢è¯
const keywordsMap = {
  "ChatGPT": "ChatGPT",
  "Netflix": "Netflix",
  "å¥ˆé£": "å¥ˆé£",
  "ä¿ç•™çš„å…³é”®è¯2": "æ›¿æ¢è¯2" // å¦‚æœ‰å…¶ä»–éœ€è¦ä¿ç•™çš„å…³é”®è¯å¯æŒ‰æ­¤æ ¼å¼æ·»åŠ 
};

// è‹¥æœåŠ¡å™¨æ ‡é¢˜åŒ…å«ä»»ä¸€è¿‡æ»¤å…³é”®è¯ï¼Œåˆ™ç›´æ¥è¿”å› false
if (filterKeywords.some(kw => new RegExp(kw, "i").test($server.title))) return false;

// ä¿ç•™éœ€è·³è¿‡çš„å…³é”®è¯éƒ¨åˆ†ï¼ŒåŒæ—¶ç§»é™¤å®ƒä»¬
let preservedParts = [];
let newTitle = $server.title;
Object.keys(keywordsMap).forEach(kw => {
  const regex = new RegExp(kw, "i");
  const match = newTitle.match(regex);
  if (match) {
    preservedParts.push(keywordsMap[kw]);
    newTitle = newTitle.replace(regex, "");
  }
});

// åŒ¹é…åŒºåŸŸå…³é”®è¯ï¼Œå¹¶æ›¿æ¢ä¸ºå¯¹åº”æ ‡è¯†ç¬¦ï¼ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹åé€€å‡ºï¼‰
for (const pattern in keywordsToNames) {
  if (new RegExp(pattern, "i").test(newTitle)) {
    newTitle = keywordsToNames[pattern];
    break;
  }
}

// æ·»åŠ è‡ªå®šä¹‰å‰ç¼€å’Œåç¼€ï¼Œå¹¶ç¡®ä¿èŠ‚ç‚¹æ ‡é¢˜ä¸é‡å¤
newTitle = customCharStart + newTitle;
const map = globalThis.map || (globalThis.map = {});
if (!map[newTitle]) {
  map[newTitle] = 1;
} else {
  newTitle = `${newTitle}-${++map[newTitle]}`;
}
newTitle += customCharEnd;

// å°†ä¿ç•™çš„éƒ¨åˆ†é‡æ–°è¿½åŠ åˆ°æ ‡é¢˜æœ«å°¾ï¼ˆå¦‚æœæœ‰ï¼‰
if (preservedParts.length) newTitle += " " + preservedParts.join(" ");

// æ›´æ–°æœåŠ¡å™¨æ ‡é¢˜
$server.title = newTitle;
return true;